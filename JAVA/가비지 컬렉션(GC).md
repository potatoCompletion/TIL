# 가비지 컬렉션(Garbage Collection)

## 가비지 컬렉션이란?
- 가비지 컬렉션은 영어로 Garbage Collection, 줄여서 GC라고도 부른다.  
가비지 컬렉션은 자바의 메모리 관리 방법 중의 하나로 JVM Heap 영역에서 **동적으로 할당했던 메모리 영역 중 필요 없게 된 메모리 영역을 주기적으로 삭제하는 프로세스를 말한다.**  
c나 c++에서는 가비지 컬렉션이 없어 개발자가 수동으로 메모리 할당과 해제를 일일이 해줘야 하는 반면 Java는 JVM에 탑재되어 있는 가비지 컬렉터가 메모리 관리를 대행해주기 때문에 개발자 입장에서 메모리 관리, 메모리 누수(Memory Leak) 문제에 대해 완벽하게 관리하지 않아도 되어 **오롯이 개발에만 집중할 수 있다는 장점**이 있다.

## 가비지 컬렉션의 단점
1. 개발자가 메모리가 언제 해제되는지 정확하게 알 수 없다.
2. 가비지 컬렉션이 동작하는 동안에는 다른 동작을 멈추기 때문에 오버헤드가 발생한다.

- 가비지 컬렉션에는 장점만 있는 것이 아니라 단점도 존재한다. 대표적으로 위의 2가지 단점이 있다.  
이 중에서 2번 GC가 동작하는 동안 JVM의 다른 동작들은 잠깐 멈추기 때문에 오버헤드가 발생한다는 점을 특히 주의해야 한다.  
이로 인해 GC가 너무 자주 실행되면 소프트웨어 성능 하락의 문제가 되기도 한다. 이러한 특성으로 인해 실시간으로 계속 동작해주어야 하는 시스템들은 GC의 사용이 적합하지 않을 수 있다.  

  #### 오버헤드란?
  - 오버헤드는 어떤 처리를 하기 위해 들어가는 간접적인 처리 시간, 메모리 등을 말한다.  
  예를 들어, A라는 처리를 실행하는데 10초가 걸린다고 가정했을 때 부가적인 B라는 처리를 추가한 결과 처리시간이 15초가 걸렸다면, 오버헤드는 5초가 된다.

## 가비지 컬렉션의 대상이 되는 객체들
- 객체들은 실질적으로 Heap 영역에 생성되고 Method 영역이나 Stack 영역 등 root 영역에서 Heap 영역에 생성된 객체의 주소만 참조하는 형식으로 구성된다.  
하지만 이렇게 생성된 Heap 영역의 객체들이 **메서드가 끝나는 등의 특정 이벤트들로 인하여 Heap 영역 객체의 메모리 주소를 가지고 있는 참조 변수가 삭제되는 현상이 발생하면**,  
위의 그림에서의 빨간색 객체와 같이 Heap 영역에서 어디서든 참조하고 있지 않은 객체들이 발생하게 된다.  
이러한 객체들을 Unreachable 하다고 하며 주기적으로 가비지 컬렉터가 제거해준다.

  #### Unreachable, Reachable?
  - Reachable: 객체가 참조되고 있는 상태
  - Unreachable: 객체가 참조되고 있지 않은 상태(GC의 대상이 됨)